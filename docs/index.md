---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "haproxy Provider"
description: Manage HAProxy with Terraform.
  
---

# HAProxy Provider

This is a terraform provider plugin for managing [HAProxy](https://www.haproxy.com/) using the HAProxy Data Plane API.

## Features

- **Complete HAProxy Management**: Manage frontends, backends, servers, ACLs, rules, and more
- **Data Discovery**: Powerful data sources for discovering existing HAProxy configurations  
- **Atomic Operations**: Stack resource for creating complete HAProxy configurations in single transactions
- **Nested Configuration**: Servers are logically nested under backends for better organization
- **Multi-Version Support**: Compatible with HAProxy Data Plane API v2 and v3

## Example Usage

```terraform
terraform {
  required_providers {
    haproxy = {
      source = "cepitacio/haproxy"
      version = "~> 1.0"
    }
  }
}

provider "haproxy" {
  url         = "http://haproxy.example.com:8080"
  username    = "username"
  password    = "password"
  api_version = "v3"  # Default is v3, use v2 if needed
  insecure    = false # Optional, for skipping SSL verification
}

# Create a complete HAProxy stack with nested servers
resource "haproxy_stack" "web_app" {
  name = "web_application"
  
  backend {
    name = "web_backend"
    mode = "http"
    
    # Servers are nested under backend
    servers = {
      "web_server_1" = {
        address = "192.168.1.10"
        port    = 8080
        check   = "enabled"
        weight  = 100
      }
      
      "web_server_2" = {
        address = "192.168.1.11"
        port    = 8080
        check   = "enabled"
        weight  = 100
      }
    }
  }
  
  frontend {
    name = "web_frontend"
    mode = "http"
    default_backend = "web_backend"
  }
}
```

## Documentation

- **[Data Sources](data-sources/)** - Discover existing HAProxy configurations
- **[Resources](resources/)** - Manage HAProxy configurations
- **[Examples](../examples/)** - Comprehensive usage examples

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `password` (String) Haproxy Password
- `url` (String) Haproxy Host and Port
- `username` (String) Haproxy User

### Optional

- `insecure` (Boolean) Disable SSL certificate verification (default: false)
